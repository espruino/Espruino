var k=D2,l=D3,m=D4,n=D5,d=D6,p=D8,q=D9,f=D10,r=D11,g=D12,t=D13,e=D15,u=D16,v=D17,w=D18,x=D19,h=D20,y=D26,z=D22,A=D23,B=D25;exports.setGPSOn=function(a,b){Serial1.removeAllListeners();delete this.GPS;if(a)return Serial1.setup(9600,{tx:p,rx:q}),f.set(),this.GPS=require("GPS").connect(Serial1,b);f.reset()};exports.setEnvOn=function(a,b){this.BME280&&this.BME280.setPower(!1);delete this.BME280;if(a)return a=new SPI,a.setup({miso:n,mosi:l,sck:m}),b&&setTimeout(b,100,this.BME280),
this.BME280=require("BME280").connectSPI(a,k)};exports.setMagOn=function(a,b){this.LIS2MDL&&this.LIS2MDL.off();delete this.LIS2MDL;if(a)return a=new I2C,a.setup({sda:t,scl:r}),b&&setTimeout(b,100,this.LIS2MDL),this.LIS2MDL=require("LIS2MDL").connectI2C(a,{int:u})};exports.setAccelOn=function(a,b){this.LIS3DH&&this.LIS3DH.off();delete this.LIS3DH;if(a)return a=new I2C,a.setup({sda:x,scl:w}),b&&setTimeout(b,100,this.LIS3DH),this.LIS3DH=require("LIS3DH").connectI2C(a,{int:B})};exports.setOptoOn=function(a,
b){this.OPT3001&&this.OPT3001.off();delete this.OPT3001;if(a)return a=new I2C,a.setup({sda:y,scl:A,bitrate:4E5}),b&&setTimeout(b,1E3,this.OPT3001),this.OPT3001=require("OPT3001").connectI2C(a,{int:z})};exports.setCellOn=function(a,b){if(a)if(this.cellOn)setTimeout(b,10,Serial1);else return(new Promise(function(c){Serial1.removeAllListeners();Serial1.on("data",function(C){});Serial1.setup(115200,{tx:g,rx:h});d.reset();setTimeout(c,200)})).then(function(){d.set();return new Promise(function(c){setTimeout(c,
200)})}).then(function(){e.set();return new Promise(function(c){setTimeout(c,2E3)})}).then(function(){e.reset();return new Promise(function(c){setTimeout(c,5E3)})}).then(function(){this.cellOn=!0;Serial1.removeAllListeners();b&&setTimeout(b,10,Serial1)});else this.cellOn=!1,d.reset(),b&&setTimeout(b,1E3)};exports.setNBCellOn=function(a,b){if(a)if(this.cellOn)setTimeout(b,10,Serial1);else return(new Promise(function(c){Serial1.removeAllListeners();Serial1.on("data",function(C){});Serial1.setup(9600,
{tx:h,rx:g});d.reset();setTimeout(c,200)})).then(function(){d.set();return new Promise(function(c){setTimeout(c,200)})}).then(function(){e.set();return new Promise(function(c){setTimeout(c,2E3)})}).then(function(){e.reset();return new Promise(function(c){setTimeout(c,5E3)})}).then(function(){this.cellOn=!0;Serial1.removeAllListeners();b&&setTimeout(b,10,Serial1)});else this.cellOn=!1,d.reset(),b&&setTimeout(b,1E3)};exports.setCharging=function(a){v.write(!a)}